<!-- Navbar Area -->
<nav class="navbar navbar-expand-md navbar-dark bg-dark">
  <span class="navbar-brand">fulibWorkflows</span>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item dropdown">
        <div ngbDropdown class="m-1">
          <button class="btn btn-primary" id="exampleSelection"
                  ngbDropdownToggle>{{currentExampleDesc}}</button>
          <div ngbDropdownMenu aria-labelledby="exampleSelection">
            <ng-container *ngFor="let example of examplesList; index as i">
              <button ngbDropdownItem (click)="changeExampleContent(i)">{{example}}</button>
            </ng-container>
          </div>
        </div>
      </li>

      <li class="nav-item">
        <button class="btn btn-primary m-1"
                (click)="generate()">Generate
        </button>
      </li>

      <li class="nav-item">

        <button class="btn btn-success m-1"
                (click)="downloadModal.open()">
          Download
        </button>
      </li>
    </ul>
  </div>
</nav>

<!-- Main Content Area -->
<div class="container-fluid" style="background-color: lightgray">
  <as-split direction="horizontal">
    <as-split-area [size]="30">
      <ngx-codemirror [(ngModel)]="content"
                      [options]="codemirrorOptions">
      </ngx-codemirror>
    </as-split-area>

    <as-split-area [size]="70">
      <as-split direction="vertical" [useTransition]="true">
        <as-split-area [size]="35">
          <iframe *ngIf="generateResult" title="Boards" [srcdoc]="generateResult.board | safe"
                  height="100%" width="100%"></iframe>
        </as-split-area>

        <as-split-area [size]="65">
          <app-mockup-viewer #mockupViewer [generateResult]="generateResult"></app-mockup-viewer>
        </as-split-area>
      </as-split>
    </as-split-area>
  </as-split>
</div>

<app-download-modal #downloadModal [data]="generateResult" [cmContent]="content"></app-download-modal>
